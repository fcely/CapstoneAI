# Project Title: Retail Flower Sales Forecasting

**Author: Fernando Cely**

---

## Executive Summary

This project focuses on predicting flower sales at a retailer to minimize waste and enhance profitability through improved sales forecasts. Keys and passwords were removed before publishing to Git due to the confidential nature of some APIs and sales information; replace them with your own. The final result is a JSON object that can be seamlessly exported into an SQL database to be presented to final decision-makers or as input to generate purchase orders, production orders, and drive the replenishment of products into the stores.

---

## Research Question

How can we refine sales predictions by incorporating time series analysis and leveraging exogenous variables like fuel prices, weather, truck occupation, and GDP?

---

## Data Sources

- **Historical Sales:** Sales data categorized by store and product for 188 stores.
- **Fuel Prices:** Obtained through an API, categorized by region.
- **Weather Data:** Fetched via an API, focusing on Seattle in this instance.
- **Pending Sources:** To extend this model beyond its current data, you might want to consider adding GDP data, truck occupation indicators, among others, for a comprehensive economic outlook.

---

## Methodology

The problem of forecasting seasonal sales can be tackled with models of the ARIMA (Autoregressive Moving Average) family. Given that we want to consider exogenous factors, two models are being considered for this task: SARIMAX and PROPHET.

### SARIMAX

Seasonal AutoRegressive Integrated Moving Average with eXogenous factors (SARIMAX) is employed for its effectiveness in modeling time series data with a seasonal component. It allows us to capture the autocorrelation and moving averages in the data while accommodating external factors that may influence sales behavior, such as fuel prices and weather conditions.

### Prophet

Prophet is a robust forecasting tool developed by Facebook that excels in handling time series data with strong seasonal patterns. What sets Prophet apart is its ability to incorporate various external factors, or holidays in our case, which significantly impact flower sales. Prophet provides a straightforward way to include these factors in the forecasting process, enhancing the model's accuracy.

#### Prophet Features:

1. **Holiday Effects:** Prophet automatically includes holidays as potential drivers of sales, allowing us to account for the impact of key holidays like Valentine's Day, Mother's Day, and Christmas on flower sales.

2. **Custom Seasonality:** Prophet enables the modeling of custom seasonality, aligning with flower sales patterns influenced by seasons and holidays.

3. **Saturating Minimums:** Prophet accommodates saturating minimums, ensuring a realistic representation of sales reaching a lower bound during certain periods.

4. **Automatic Changepoints:** Prophet identifies potential changepoints in the data, marking shifts in the sales trajectory and accommodating these changes in the forecasting process.

By integrating both SARIMAX and Prophet, we aim to leverage the strengths of each model. SARIMAX provides a robust framework for time series analysis, while Prophet enhances the modeling capabilities by effectively capturing the impact of holidays and other external factors on flower sales. This combined approach aims to deliver a comprehensive and accurate forecasting solution.

---

*Note: The specific parameters and configurations for SARIMAX and Prophet models will be fine-tuned during the model development phase based on the characteristics of the data and the observed behavior of flower sales.*

---

## Results

The ultimate result of this project is a JSON that can be seamlessly exported into an SQL database, making it readily available for integration into a user-friendly web application. This application could empower end-users to leverage predictions generated by various modelsâ€”either individually, in combination, or based on their own preferences.

By harnessing insights derived from these models, businesses can optimize their decision-making processes. This data can drive strategic actions such as generating purchase orders and orchestrating the allocation of products to stores on a daily basis. The comparison of shrink percentages between Sarimax and Prophet, highlighted in the numbers below, becomes a key factor in guiding end-users towards choosing the most effective model for their specific needs.

While this exercise, conducted with a single store, shows that both Sarimax and Prophet perform well in predicting outcomes, it's essential to note that the absence of a clear winner necessitates further exploration. A more comprehensive study involving multiple stores, diverse tests, and a larger dataset is required to gain a nuanced understanding of which model consistently outperforms the other in the long run.

For future considerations, the inclusion of recurrent neural networks (LTSM) as another estimator and a simple regression with Last Year (LY) information as features might be worth exploring. Additionally, incorporating all generated predictions into an ensemble model could potentially drive better results. Further testing and data from more stores are required to define what works best for a specific business. However, the framework of this project serves as a valuable first step to delve further and find the optimal model for each case.

This results object forms a foundation for informed decision-making, fostering continuous improvement and refinement of predictive models in real-world scenarios.

### Next Steps

1. **Extend Testing:** Implement the model across multiple stores for a more comprehensive assessment.
2. **Aggregate Sales Data:** Consider combining historical sales data from all stores and use the collective forecast as an additional exogenous variable to account for regional trends.
3. **Complete Exogenous Variables:** Acquire remaining exogenous variables through APIs for a fully automated model.
4. **Database Integration:** Develop a mechanism to submit results to an SQL database, facilitating easy access and utilization by the company.
5. **Other Models:** Use RNN

 to create an LTSM model and also a simple linear regression, then add all of them into an ensemble model.
6. **Images:** Use CNN to identify the status of the displays (planograms) every day and feed that as inputs to the model. Stores with optimal merchandising might have better sales than stores not looking as well; this system should help understand why some stores are under or overperforming and predict the daily sales given an image of the display taken early in the morning.

---

## Outline of Project

- [Link to Sales Projection Notebook](https://github.com/fcely/CapstoneAI/blob/main/SalesProjections.ipynb)

---

## Contact and Further Information

For inquiries or additional information, please contact Fernando Cely at [fcely@me.com](mailto:fcely@me.com).

---

## Kind Regards

Fernando Cely